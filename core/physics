acceleration = 0;
acceleration += (0, -9.8);

movement = v + acceleration/2

d += movement;

IF COLLIDE:
    movement -= intersect;
    v += sqrt(v^2 + a*d)
ELSE:
    v += acceleration